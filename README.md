# Joseph Barber (S175950) - Final Project (IMDCGD399-17YRD)

## Development blog:

https://josephbarberfinalproject.wordpress.com/

## Introduction and explanation:

**An investigation into techniques for procedurally generating realistic cities.**

My Final Project was to create a system that could procedurally generate a city. My language of choice was C++.  
I later, as one of my stretch goals, turned this into a Unity3D library.

This project is split into multiple parts:

* C++ Standalone, using SFML for rendering

* Unity 3D Library
  - C++ dll with extern "C" wrapper functions
  - Unity project with C# code

Below are instructions for running both the C++ system and the Unity3D library

## C++Standalone:

## Running the compiled .exe

### Instructions:

A compiled .exe with all required .dll files is provided.  

* Go to Builds\
* Unzip C++ProceduralCityGenerator.zip
* Run ProceduralCityGenerator.exe

Instructions on how to interact with the application are printed to the console.

## Viewing and Compiling the source code:

### Dependances:

All Dependances are included in this repository and are linked to dynamically.  
These dependances can be found in the following location:  
SourceCode\Libraries\  
If any linker errors are found, see the section below on how to fix these errors.

### Instructions:

* Go to SourceCode\Final\Standalone
* Open ProceduralCityGenerator.sln in Visual Studio 2015
* Set to Release x86
* Build/Run

If an error occurs, abort and re-run.  
Follow the instructions printed to the console window to control the application.

### Fixing linker errors:

Whilst the repository contains the required SFML and boost files, if you get a linker error, follow these steps:  

Add these to the sln properties:

*Additional include directories:*
* $(SolutionDir)\\..\\..\Libraries\SFML-2.4.2\include
* $(SolutionDir)\\..\\..\Libraries\boost\

*Additional Library Directories:*
* $(SolutionDir)\\..\\..\Libraries\SFML-2.4.2\lib

*Additional Dependancies:*
* sfml-graphics.lib
* sfml-window.lib
* sfml-system.lib

## Unity3D library:

## The C++ Library

A compiled .dll file is already supplied with the .exe file to run the Unity project. 

However, if you wish to view or build the source code, including the wrapper functions for the communication between C++ and C#, follow these steps:

* Go to SourceCode\Final\Unity\Lib
* Open ProcCityGenUnityLib.sln in Visual Studio 2015

Optional, for compiling:

* Set to Release x86
* Build

In order to avoid any errors, please do not replace the .dll supplied with the .exe

### Fixing linker errors:

Whilst the repository contains the required boost files, if you get a linker error, follow these steps:  

Add these to the sln properties:

*Additional include directories:*
* $(SolutionDir)\\..\\..\\..\Libraries\boost\

You can then build the solution to obtain the .dll used in Unity.

## Running the exe:

The .exe is currently stored in a .zip folder

* Go to Builds\
* Unzip Unity.zip
* Run ProceduralCity.exe

## Opening and Running the Unity Project:

### Dependances:

**Unity 2017.1 or higher:**

To install Unity, go to: https://store.unity.com/  

Install the Free (Personal) version of Unity3D  

### Instructions:

**Running the application:**

* Open the Unity project:
    - Go to SourceCode\Final\Unity\UnityCity\Assets\Scenes
    - Open Main.unity
* Click Play at the top of the window

The city can take up to 30 seconds to generate. If you are waiting for over a minute, please close and re-open.

**Applying user settings:**

Select the object "ApplicationManager" in the Hierarchy.

From here you can access:

* Terrain height
* Water level in percent
* Building height

Please do not disrupt or change any of the Prefabs settings.

# License acknowledgements:

## Boost

```
Boost Software License - Version 1.0 - August 17th, 2003

Permission is hereby granted, free of charge, to any person or organization
obtaining a copy of the software and accompanying documentation covered by
this license (the "Software") to use, reproduce, display, distribute,
execute, and transmit the Software, and to prepare derivative works of the
Software, and to permit third-parties to whom the Software is furnished to
do so, all subject to the following:

The copyright notices in the Software and this entire statement, including
the above license grant, this restriction and the following disclaimer,
must be included in all copies of the Software, in whole or in part, and
all derivative works of the Software, unless such copies or derivative
works are solely in the form of machine-executable object code generated by
a source language processor.

THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE, TITLE AND NON-INFRINGEMENT. IN NO EVENT
SHALL THE COPYRIGHT HOLDERS OR ANYONE DISTRIBUTING THE SOFTWARE BE LIABLE
FOR ANY DAMAGES OR OTHER LIABILITY, WHETHER IN CONTRACT, TORT OR OTHERWISE,
ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER
DEALINGS IN THE SOFTWARE.
```

## SFML

```
SFML (Simple and Fast Multimedia Library) - Copyright (c) Laurent Gomila

This software is provided 'as-is', without any express or implied warranty.
In no event will the authors be held liable for any damages arising from
the use of this software.

Permission is granted to anyone to use this software for any purpose,
including commercial applications, and to alter it and redistribute it
freely, subject to the following restrictions:

1. The origin of this software must not be misrepresented; you must not claim
   that you wrote the original software. If you use this software in a product,
   an acknowledgment in the product documentation would be appreciated but is
   not required.

2. Altered source versions must be plainly marked as such, and must not be
   misrepresented as being the original software.

3. This notice may not be removed or altered from any source distribution.
```
